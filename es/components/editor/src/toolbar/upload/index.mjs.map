{"version":3,"file":"index.mjs","sources":["../../../../../../../../packages/components/editor/src/toolbar/upload/index.vue"],"sourcesContent":["<template>\n  <el-upload\n    ref=\"upload\"\n    :limit=\"1\"\n    :on-exceed=\"handleExceed\"\n    :on-change=\"handleCahnge\"\n    :auto-upload=\"false\"\n    :show-file-list=\"false\"\n  >\n    <template #trigger>\n      <span>{{ triggerName }}</span>\n    </template>\n  </el-upload>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from 'vue'\nimport { genFileId } from 'element-plus'\nimport type {\n  UploadFile,\n  UploadInstance,\n  UploadProps,\n  UploadRawFile,\n} from 'element-plus'\n\ndefineOptions({\n  name: 'EditorUpload',\n})\n\ndefineProps({\n  triggerName: {\n    type: String,\n  },\n})\n\nconst emit = defineEmits(['change'])\nconst upload = ref<UploadInstance>()\n\nconst handleExceed: UploadProps['onExceed'] = (files) => {\n  upload.value!.clearFiles()\n  const file = files[0] as UploadRawFile\n  file.uid = genFileId()\n  upload.value!.handleStart(file)\n}\n\nconst handleCahnge = (uploadFile: UploadFile) => {\n  emit('change', uploadFile)\n}\n</script>\n"],"names":[],"mappings":";;;;mCAyBc,CAAA;AAAA,EACZ,IAAM,EAAA,cAAA;AACR,CAAA,CAAA,CAAA;;;;;;;;;;AAQA,IAAA,MAAM,IAAO,GAAA,MAAA,CAAA;AACb,IAAA,MAAM,SAAS,GAAoB,EAAA,CAAA;AAE7B,IAAA,MAAA,YAAA,GAAwC,CAAC,KAAU,KAAA;AACvD,MAAA,MAAA,CAAO,MAAO,UAAW,EAAA,CAAA;AACnB,MAAA,MAAA,OAAO,KAAM,CAAA,CAAA,CAAA,CAAA;AACnB,MAAA,IAAA,CAAK,MAAM,SAAU,EAAA,CAAA;AACd,MAAA,MAAA,CAAA,KAAA,CAAO,YAAY,IAAI,CAAA,CAAA;AAAA,KAChC,CAAA;AAEM,IAAA,MAAA,YAAA,GAAe,CAAC,UAA2B,KAAA;AAC/C,MAAA,IAAA,CAAK,UAAU,UAAU,CAAA,CAAA;AAAA,KAC3B,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}