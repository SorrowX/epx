{"version":3,"file":"loading.mjs","sources":["../../../../../../packages/formily/__builtins__/shared/loading.ts"],"sourcesContent":["import { ElLoading } from 'element-plus'\n\nexport const loading = async (\n  loadingText = 'Loading...',\n  processor: () => Promise<any>\n) => {\n  let loadingInstance: any = null\n  const loading = setTimeout(() => {\n    loadingInstance = ElLoading.service({\n      text: loadingText,\n      background: 'transparent',\n    })\n  }, 100)\n  try {\n    return await processor()\n  } finally {\n    loadingInstance?.close()\n    clearTimeout(loading)\n  }\n}\n"],"names":["loading"],"mappings":";;AAEO,MAAM,OAAU,GAAA,OACrB,WAAc,GAAA,YAAA,EACd,SACG,KAAA;AACH,EAAA,IAAI,eAAuB,GAAA,IAAA,CAAA;AAC3B,EAAMA,MAAAA,QAAAA,GAAU,WAAW,MAAM;AAC/B,IAAA,eAAA,GAAkB,UAAU,OAAQ,CAAA;AAAA,MAClC,IAAM,EAAA,WAAA;AAAA,MACN,UAAY,EAAA,aAAA;AAAA,KACb,CAAA,CAAA;AAAA,KACA,GAAG,CAAA,CAAA;AACN,EAAI,IAAA;AACF,IAAA,OAAO,MAAM,SAAU,EAAA,CAAA;AAAA,GACvB,SAAA;AACA,IAAiB,eAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,eAAA,CAAA,KAAA,EAAA,CAAA;AACjB,IAAA,YAAA,CAAaA,QAAO,CAAA,CAAA;AAAA,GACtB;AACF;;;;"}