{"version":3,"file":"config-provider-v2.js","sources":["../../../../../../packages/components/config-provider-v2/src/config-provider-v2.ts"],"sourcesContent":["import { computed, defineComponent, h, provide, unref } from 'vue'\nimport { ElConfigProvider } from 'element-plus'\nimport { configProviderV2Props } from './config-provider-v2-props'\nimport { configProviderV2ContextKey } from './constants'\nimport {\n  getCfgOptions,\n  getDefaultTablePageConfig,\n  globalConfig,\n  tablePageContextKey,\n} from './hooks/use-global-config'\n\nimport type { TablePageContext } from '@element-plus/components/table-page'\n\nconst ConfigProviderV2 = defineComponent({\n  name: 'ElConfigProviderV2',\n  inheritAttrs: false,\n  props: configProviderV2Props,\n  setup(props, { attrs, slots }) {\n    const cfgs = computed(() => getCfgOptions({ ...props, ...attrs }))\n\n    provide(configProviderV2ContextKey, globalConfig)\n\n    const defaultTablePageConfig = getDefaultTablePageConfig()\n    const tablePageConfig = props.tablePage as TablePageContext\n    provide(\n      tablePageContextKey,\n      computed(() => {\n        return {\n          pagination: {\n            ...defaultTablePageConfig.pagination,\n            ...tablePageConfig?.pagination,\n          },\n          config: {\n            ...defaultTablePageConfig.config,\n            ...tablePageConfig?.config,\n          },\n        }\n      })\n    )\n\n    return () =>\n      h(\n        ElConfigProvider,\n        {\n          ...unref(cfgs.value.epCfg),\n        },\n        {\n          default: () => slots.default?.(),\n        }\n      )\n  },\n})\nexport type ConfigProviderV2Instance = InstanceType<typeof ConfigProviderV2>\n\nexport default ConfigProviderV2\n"],"names":["defineComponent","configProviderV2Props","computed","getCfgOptions","provide","configProviderV2ContextKey","globalConfig","getDefaultTablePageConfig","tablePageContextKey","h","ElConfigProvider","unref"],"mappings":";;;;;;;;;;AAaA,MAAM,mBAAmBA,mBAAgB,CAAA;AAAA,EACvC,IAAM,EAAA,oBAAA;AAAA,EACN,YAAc,EAAA,KAAA;AAAA,EACd,KAAO,EAAAC,2CAAA;AAAA,EACP,KAAM,CAAA,KAAA,EAAO,EAAE,KAAA,EAAO,OAAS,EAAA;AAC7B,IAAM,MAAA,IAAA,GAAOC,YAAS,CAAA,MAAMC,6BAAc,CAAA,EAAE,GAAG,KAAO,EAAA,GAAG,KAAM,EAAC,CAAC,CAAA,CAAA;AAEjE,IAAAC,WAAA,CAAQC,sCAA4BC,4BAAY,CAAA,CAAA;AAEhD,IAAA,MAAM,yBAAyBC,yCAA0B,EAAA,CAAA;AACzD,IAAA,MAAM,kBAAkB,KAAM,CAAA,SAAA,CAAA;AAC9B,IAAAH,WAAA;AAAA,MACEI,mCAAA;AAAA,MACAN,aAAS,MAAM;AACb,QAAO,OAAA;AAAA,UACL,UAAY,EAAA;AAAA,YACV,GAAG,sBAAuB,CAAA,UAAA;AAAA,YAC1B,GAAG,eAAiB,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,eAAA,CAAA,UAAA;AAAA,WACtB;AAAA,UACA,MAAQ,EAAA;AAAA,YACN,GAAG,sBAAuB,CAAA,MAAA;AAAA,YAC1B,GAAG,eAAiB,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,eAAA,CAAA,MAAA;AAAA,WACtB;AAAA,SACF,CAAA;AAAA,OACD,CAAA;AAAA,KACH,CAAA;AAEA,IAAA,OAAO,MACLO,KAAA;AAAA,MACEC,4BAAA;AAAA,MACA;AAAA,QACE,GAAGC,SAAA,CAAM,IAAK,CAAA,KAAA,CAAM,KAAK,CAAA;AAAA,OAC3B;AAAA,MACA;AAAA,QACE,SAAS,MAAG;AA/CtB,UAAA,IAAA,EAAA,CAAA;AA+CyB,UAAA,OAAA,CAAA,EAAA,GAAA,KAAA,CAAM,OAAN,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,CAAA,KAAA,CAAA,CAAA;AAAA,SAAA;AAAA,OACjB;AAAA,KACF,CAAA;AAAA,GACJ;AACF,CAAC;;;;"}