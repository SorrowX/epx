import{w as V,x as $,V as M}from"./theme.BAjCHcg2.js";import{M as N}from"./index.BMSQkwth.js";import{p as w,f as O,o as i,c as g,r as m,b as B,q as c,y as u,v as t,a as n,R as o,u as p,S as z,a7 as I,t as b,Q as h,z as T,_ as q}from"./framework.D-asAmv2.js";const k='rel="noreferrer noopenner" target="_blank"',D=w({__name:"vp-markdown",props:{content:{type:String,required:!0}},setup(f){const d=new N,a=f,e=O(()=>d.render(a.content).replace(/#([0-9]+) by/g,`<a href="https://github.com/element-plus/element-plus/pull/$1" ${k}>#$1</a> by`).replace(/@([A-Za-z0-9_-]+)/g,`<a href="https://github.com/$1" ${k}>@$1</a>`));return(s,y)=>(i(),g("div",{class:"markdown-wrapper",innerHTML:e.value},null,8,["innerHTML"]))}}),H={"en-US":{"published-by":"Published by","open-link":"Open link","select-version":"Select a version"},"zh-CN":{"published-by":"发布者","open-link":"打开链接","select-version":"选择版本"}},R=w({__name:"vp-changelog",setup(f){const d=m(!0),a=m([]),e=m(),s=V(H),y=$(),C=r=>{const l=a.value;e.value=l[l.findIndex(_=>_.name===r)]};return B(async()=>{try{const r=await fetch("https://api.github.com/repos/element-plus/element-plus/releases"),l=await r.json();r.ok?(a.value=l,e.value=l[0]):(a.value=[],e.value=void 0)}catch{a.value=[],e.value=void 0}finally{d.value=!1}}),(r,l)=>{const _=c("ElOption"),S=c("ElSelect"),x=c("ElCard"),E=c("ElSkeleton"),L=c("ClientOnly");return i(),g("div",{class:"changelogs"},[u(L,null,{default:t(()=>[u(E,{loading:d.value},{default:t(()=>[n("div",{class:"changelog-versions"},[n("p",null,o(p(s)["select-version"])+":",1),u(S,{"model-value":e.value.name,placeholder:p(s)["select-version"],style:{width:"200px"},onChange:C},{default:t(()=>[(i(!0),g(z,null,I(a.value,v=>(i(),b(_,{key:v.id,value:v.name},{default:t(()=>[h(o(v.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["model-value","placeholder"])]),e.value?(i(),b(x,{key:0},{header:t(()=>[n("div",{class:"changelog-header"},[n("div",{class:"changelog-meta"},[n("p",{class:"changelog-by"},[h(o(p(s)["published-by"])+" ",1),n("strong",null,o(e.value.author.login),1)]),n("p",{class:"changelog-date"},o(new Date(e.value.published_at).toLocaleString(p(y))),1)]),n("div",{class:"operators"},[u(M,{href:e.value.html_url},{default:t(()=>[h(o(p(s)["open-link"]),1)]),_:1},8,["href"])])])]),default:t(()=>[n("div",null,[u(D,{content:e.value.body},null,8,["content"])])]),_:1})):T("",!0)]),_:1},8,["loading"])]),_:1})])}}}),P=q(R,[["__scopeId","data-v-86efa064"]]);export{P as _};
